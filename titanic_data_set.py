# -*- coding: utf-8 -*-
"""Titanic_data_set.ipynb

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/1PMNMl0Mc6laEKAxeJ0gfJ2PaqfGhwLUb
"""

import kagglehub

# Download latest version
path = kagglehub.dataset_download("yasserh/titanic-dataset")

print("Path to dataset files:", path)

import pandas as pd
import numpy as np
import matplotlib.pyplot as plt
import seaborn as sns

# Load dataset (example: Titanic dataset)
df = pd.read_csv("Titanic-Dataset.csv")

# Preview data
print(df.head())

print(df.info())

print(df.describe())

# Check missing values
print(df.isnull().sum())

# Check datatypes
print(df.dtypes)

# Fill numerical missing values with median
df['Age'] = df['Age'].fillna(df['Age'].median())

# Fill categorical missing values with mode
df['Embarked'] = df['Embarked'].fillna(df['Embarked'].mode()[0])

# Drop rows/columns if too many nulls
df = df.drop(columns=['Cabin'])  # Example: drop 'Cabin'

# Label Encoding for binary categories
df['Sex'] = df['Sex'].map({'male': 0, 'female': 1})

# One-hot encoding for multi-categories
df = pd.get_dummies(df, columns=['Embarked'], drop_first=True)

from sklearn.preprocessing import StandardScaler, MinMaxScaler

scaler = StandardScaler()
df[['Age','Fare']] = scaler.fit_transform(df[['Age','Fare']])

# Alternatively: MinMaxScaler()
# scaler = MinMaxScaler()
# df[['Age','Fare']] = scaler.fit_transform(df[['Age','Fare']])

# Boxplot
plt.figure(figsize=(6,4))
sns.boxplot(x=df['Fare'])
plt.show()

Q1 = df['Fare'].quantile(0.25)
Q3 = df['Fare'].quantile(0.75)
IQR = Q3 - Q1

# Keep only non-outliers
df = df[(df['Fare'] >= Q1 - 1.5*IQR) & (df['Fare'] <= Q3 + 1.5*IQR)]